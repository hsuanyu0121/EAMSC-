<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>P!LOT | Admin Dashboard</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0F172A] p-10 text-white font-sans">
    <h1 class="text-4xl font-black italic text-[#A4C639] mb-12">User Achievement Tracker</h1>
    <div id="monitorGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCYXhTT_MzhE6K2OE6HuAx9kwEZlIKbZMg",
            authDomain: "eamsc-929aa.firebaseapp.com",
            projectId: "eamsc-929aa",
            storageBucket: "eamsc-929aa.firebasestorage.app",
            messagingSenderId: "1010678005753",
            appId: "1:1010678005753:web:6283391cec141c7e664728",
            measurementId: "G-TQ48PSK5H4"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        db.collection("monitor_center").orderBy("timestamp", "desc").onSnapshot(snap => {
            const grid = document.getElementById('monitorGrid');
            grid.innerHTML = "";
            snap.forEach(doc => {
                const d = doc.data();
                grid.innerHTML += `
                    <div class="p-8 rounded-[2.5rem] bg-slate-800 border border-slate-700 shadow-xl">
                        <div class="flex items-center gap-4 mb-6">
                            <img src="${d.avatar}" class="w-12 h-12 rounded-full border-2 border-[#A4C639]">
                            <div>
                                <h3 class="text-xl font-bold">${d.name}</h3>
                                <p class="text-xs text-[#A4C639]">Energy: ${d.award}</p>
                            </div>
                        </div>
                        <div class="mt-4 p-4 bg-black/20 rounded-2xl text-[10px] italic text-slate-400">
                            Last Action: ${d.last_msg}
                        </div>
                    </div>`;
            });
        });
    </script>
</body>
</html>
